<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circle Quest: Mastering Circumference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #4A90A4;
            --secondary-color: #6BB5A2;
            --accent-color: #F5A623;
            --background-color: #F8FAFC;
            --text-color: #2D3748;
            --light-gray: #E2E8F0;
            --success-color: #48BB78;
            --error-color: #F56565;
            --radius-color: #3B82F6;
            --diameter-color: #EF4444;
            --circumference-color: #10B981;
            --center-color: #8B5CF6;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            font-size: 18px;
        }

        /* Progress Bar */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .progress-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary-color);
        }

        .progress-percent {
            font-size: 16px;
            font-weight: 700;
            color: var(--secondary-color);
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background-color: var(--light-gray);
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 6px;
            transition: width 0.5s ease;
            width: 0%;
        }

        /* Main Container */
        .main-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 100px 20px 40px;
        }

        /* Section Styles */
        .section {
            display: none;
            background: white;
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: 32px;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
        }

        h2 {
            font-size: 26px;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        h3 {
            font-size: 22px;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        p {
            margin-bottom: 15px;
        }

        .highlight {
            background: linear-gradient(120deg, #ffeaa7 0%, #ffeaa7 100%);
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* Visual Container */
        .visual-container {
            background: #f8fafc;
            border-radius: 12px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
            border: 2px solid var(--light-gray);
        }

        .visual-container svg {
            max-width: 100%;
            height: auto;
        }

        /* Legend */
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .legend-color.radius { background-color: var(--radius-color); }
        .legend-color.diameter { background-color: var(--diameter-color); }
        .legend-color.circumference { background-color: var(--circumference-color); }
        .legend-color.center { background-color: var(--center-color); }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 14px 28px;
            font-size: 18px;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(74, 144, 164, 0.4);
        }

        .btn-secondary {
            background: var(--light-gray);
            color: var(--text-color);
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background: #38a169;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        /* Understanding Check */
        .understanding-check {
            background: linear-gradient(135deg, #EBF4FF, #E6FFFA);
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
            border: 2px solid var(--primary-color);
        }

        .understanding-check h4 {
            font-size: 20px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        /* Alternative Explanation */
        .alt-explanation {
            display: none;
            background: #FFFBEB;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-color);
            animation: slideDown 0.4s ease;
        }

        .alt-explanation.show {
            display: block;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 1000px; }
        }

        .alt-explanation h4 {
            color: var(--accent-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* FAQ Styles */
        .faq-section {
            background: #F0FDF4;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
        }

        .faq-section h3 {
            color: var(--secondary-color);
            margin-bottom: 20px;
            text-align: center;
        }

        .faq-item {
            background: white;
            border-radius: 8px;
            margin-bottom: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 20px;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-color);
            transition: background 0.3s ease;
        }

        .faq-question:hover {
            background: #f7fafc;
        }

        .faq-icon {
            font-size: 24px;
            font-weight: bold;
            color: var(--secondary-color);
            transition: transform 0.3s ease;
        }

        .faq-item.open .faq-icon {
            transform: rotate(45deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease;
            background: #f8fafc;
        }

        .faq-item.open .faq-answer {
            max-height: 500px;
            padding: 20px;
        }

        .faq-answer p {
            margin: 0;
            color: #4a5568;
        }

        /* Practice Problem */
        .practice-problem {
            background: linear-gradient(135deg, #FFF5F5, #FFFAF0);
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid var(--accent-color);
        }

        .practice-problem h3 {
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .practice-visual {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        /* Multiple Choice */
        .choices {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .choice {
            padding: 15px 20px;
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            text-align: center;
        }

        .choice:hover {
            border-color: var(--primary-color);
            background: #f7fafc;
        }

        .choice.selected {
            border-color: var(--primary-color);
            background: #EBF8FF;
        }

        .choice.correct {
            border-color: var(--success-color);
            background: #F0FFF4;
        }

        .choice.incorrect {
            border-color: var(--error-color);
            background: #FFF5F5;
        }

        /* Input Answer */
        .answer-input {
            display: flex;
            gap: 15px;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .answer-input input {
            padding: 12px 20px;
            font-size: 18px;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            width: 150px;
            text-align: center;
        }

        .answer-input input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .unit-label {
            font-size: 18px;
            color: var(--text-color);
        }

        /* Feedback */
        .feedback {
            display: none;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            animation: fadeIn 0.3s ease;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #F0FFF4;
            border: 2px solid var(--success-color);
            color: #276749;
        }

        .feedback.incorrect {
            background: #FFF5F5;
            border: 2px solid var(--error-color);
            color: #C53030;
        }

        .feedback h4 {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Solution Box */
        .solution-box {
            background: #EDF2F7;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }

        .solution-box h5 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .solution-step {
            margin: 8px 0;
            padding-left: 20px;
        }

        /* Formula Box */
        .formula-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 12px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
        }

        .formula {
            font-size: 32px;
            font-weight: bold;
            margin: 15px 0;
            font-family: 'Georgia', serif;
        }

        .formula-desc {
            font-size: 16px;
            opacity: 0.9;
        }

        /* Key Point */
        .key-point {
            background: #EBF8FF;
            border-left: 4px solid var(--primary-color);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .key-point strong {
            color: var(--primary-color);
        }

        /* Example Box */
        .example-box {
            background: white;
            border: 2px solid var(--secondary-color);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }

        .example-box h4 {
            color: var(--secondary-color);
            margin-bottom: 15px;
        }

        /* Step by Step */
        .steps {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .step {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            align-items: flex-start;
        }

        .step-number {
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        /* Quiz Styles */
        .quiz-question {
            background: #f8fafc;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .quiz-question h4 {
            color: var(--text-color);
            margin-bottom: 15px;
        }

        .quiz-visual {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }

        /* Quiz Results */
        .quiz-results {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .quiz-results.show {
            display: block;
        }

        .score-display {
            font-size: 72px;
            font-weight: bold;
            color: var(--primary-color);
            margin: 20px 0;
        }

        .score-message {
            font-size: 24px;
            color: var(--secondary-color);
            margin-bottom: 20px;
        }

        /* Celebration */
        .celebration {
            text-align: center;
            padding: 40px;
        }

        .celebration h2 {
            color: var(--success-color);
            margin-bottom: 20px;
        }

        .trophy {
            font-size: 80px;
            margin: 20px 0;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .section {
                padding: 25px;
            }

            h1 { font-size: 26px; }
            h2 { font-size: 22px; }
            h3 { font-size: 20px; }

            .choices {
                grid-template-columns: 1fr;
            }

            .formula {
                font-size: 24px;
            }

            .btn {
                padding: 12px 20px;
                font-size: 16px;
            }

            .legend {
                gap: 15px;
            }
        }

        /* Animations */
        .bounce {
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* List styling */
        ul {
            margin: 15px 0;
            padding-left: 25px;
        }

        li {
            margin: 10px 0;
        }

        /* True/False buttons */
        .tf-choices {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 20px 0;
        }

        .tf-choice {
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 600;
        }

        /* Interactive Controls */
        .interactive-controls {
            background: linear-gradient(135deg, #EBF4FF, #E6FFFA);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            text-align: center;
        }

        .interactive-controls h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .slider-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .slider-container label {
            font-weight: 600;
            color: var(--text-color);
        }

        .radius-slider {
            -webkit-appearance: none;
            width: 250px;
            height: 12px;
            border-radius: 6px;
            background: linear-gradient(90deg, var(--radius-color), var(--circumference-color));
            outline: none;
            cursor: pointer;
        }

        .radius-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: white;
            border: 4px solid var(--primary-color);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .radius-slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: white;
            border: 4px solid var(--primary-color);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .measurements-display {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .measurement-box {
            background: white;
            border-radius: 10px;
            padding: 15px 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 140px;
        }

        .measurement-box.radius-box {
            border-top: 4px solid var(--radius-color);
        }

        .measurement-box.diameter-box {
            border-top: 4px solid var(--diameter-color);
        }

        .measurement-box.circumference-box {
            border-top: 4px solid var(--circumference-color);
        }

        .measurement-label {
            font-size: 14px;
            color: #718096;
            margin-bottom: 5px;
        }

        .measurement-value {
            font-size: 24px;
            font-weight: bold;
        }

        .measurement-box.radius-box .measurement-value {
            color: var(--radius-color);
        }

        .measurement-box.diameter-box .measurement-value {
            color: var(--diameter-color);
        }

        .measurement-box.circumference-box .measurement-value {
            color: var(--circumference-color);
        }

        .try-it-label {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-header">
            <span class="progress-title">Circle Quest: Mastering Circumference</span>
            <span class="progress-percent" id="progressPercent">0% Complete</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
    </div>

    <div class="main-container">
        <!-- Section 1: Welcome -->
        <div class="section active" id="section-welcome">
            <h1>Welcome to Circle Quest!</h1>

            <div class="visual-container">
                <svg width="300" height="300" viewBox="0 0 300 300">
                    <!-- Animated circle -->
                    <circle cx="150" cy="150" r="100" fill="none" stroke="var(--circumference-color)" stroke-width="4" stroke-dasharray="628" stroke-dashoffset="628">
                        <animate attributeName="stroke-dashoffset" from="628" to="0" dur="2s" fill="freeze" />
                    </circle>
                    <!-- Center dot -->
                    <circle cx="150" cy="150" r="8" fill="var(--center-color)">
                        <animate attributeName="r" values="8;12;8" dur="1.5s" repeatCount="indefinite" />
                    </circle>
                    <!-- Radius line -->
                    <line x1="150" y1="150" x2="250" y2="150" stroke="var(--radius-color)" stroke-width="3" stroke-dasharray="100" stroke-dashoffset="100">
                        <animate attributeName="stroke-dashoffset" from="100" to="0" dur="1s" begin="1s" fill="freeze" />
                    </line>
                </svg>
            </div>

            <p style="text-align: center; font-size: 20px;">Today, you're going to become a <strong>circle expert!</strong></p>

            <p style="text-align: center;">You'll learn:</p>
            <ul style="max-width: 400px; margin: 0 auto 20px;">
                <li>The parts of a circle (radius, diameter, circumference)</li>
                <li>What the special number <strong>pi (π)</strong> is</li>
                <li>How to calculate the distance around any circle</li>
            </ul>

            <p style="text-align: center; color: var(--secondary-color); font-weight: 600;">Let's get started on your circle adventure!</p>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="nextSection()">Begin Learning!</button>
            </div>
        </div>

        <!-- Section 2: Circles in Our World (Warm-up) -->
        <div class="section" id="section-warmup">
            <h2>Circles Are Everywhere!</h2>

            <p>Before we dive into the math, let's think about where we see circles in everyday life. Circles are one of the most important shapes in our world!</p>

            <div class="visual-container">
                <svg width="500" height="300" viewBox="0 0 500 300">
                    <!-- Clock -->
                    <circle cx="80" cy="80" r="50" fill="#EBF8FF" stroke="var(--primary-color)" stroke-width="3"/>
                    <circle cx="80" cy="80" r="3" fill="var(--primary-color)"/>
                    <line x1="80" y1="80" x2="80" y2="45" stroke="var(--primary-color)" stroke-width="2"/>
                    <line x1="80" y1="80" x2="105" y2="80" stroke="var(--primary-color)" stroke-width="2"/>
                    <text x="80" y="150" text-anchor="middle" font-size="14">Clock</text>

                    <!-- Pizza -->
                    <circle cx="200" cy="80" r="50" fill="#F6AD55" stroke="#C05621" stroke-width="4"/>
                    <circle cx="185" cy="65" r="6" fill="#C53030"/>
                    <circle cx="215" cy="75" r="6" fill="#C53030"/>
                    <circle cx="195" cy="95" r="6" fill="#C53030"/>
                    <text x="200" y="150" text-anchor="middle" font-size="14">Pizza</text>

                    <!-- Wheel -->
                    <circle cx="320" cy="80" r="50" fill="none" stroke="#2D3748" stroke-width="6"/>
                    <circle cx="320" cy="80" r="35" fill="none" stroke="#718096" stroke-width="2"/>
                    <circle cx="320" cy="80" r="8" fill="#2D3748"/>
                    <line x1="320" y1="30" x2="320" y2="130" stroke="#718096" stroke-width="2"/>
                    <line x1="270" y1="80" x2="370" y2="80" stroke="#718096" stroke-width="2"/>
                    <text x="320" y="150" text-anchor="middle" font-size="14">Wheel</text>

                    <!-- Coin -->
                    <circle cx="440" cy="80" r="40" fill="#F6E05E" stroke="#B7791F" stroke-width="3"/>
                    <text x="440" y="85" text-anchor="middle" font-size="18" fill="#744210" font-weight="bold">25¢</text>
                    <text x="440" y="150" text-anchor="middle" font-size="14">Coin</text>

                    <!-- Bottom row -->
                    <!-- Plate -->
                    <circle cx="120" cy="220" r="45" fill="#F7FAFC" stroke="#A0AEC0" stroke-width="3"/>
                    <circle cx="120" cy="220" r="35" fill="none" stroke="#CBD5E0" stroke-width="1"/>
                    <text x="120" y="280" text-anchor="middle" font-size="14">Plate</text>

                    <!-- Basketball -->
                    <circle cx="250" cy="220" r="45" fill="#ED8936" stroke="#C05621" stroke-width="2"/>
                    <path d="M 205 220 Q 250 190 295 220" fill="none" stroke="#2D3748" stroke-width="2"/>
                    <path d="M 205 220 Q 250 250 295 220" fill="none" stroke="#2D3748" stroke-width="2"/>
                    <line x1="250" y1="175" x2="250" y2="265" stroke="#2D3748" stroke-width="2"/>
                    <text x="250" y="280" text-anchor="middle" font-size="14">Basketball</text>

                    <!-- CD/DVD -->
                    <circle cx="380" cy="220" r="45" fill="linear-gradient(135deg, #667eea, #764ba2)" stroke="#553C9A" stroke-width="2"/>
                    <circle cx="380" cy="220" r="45" fill="#E9D8FD" opacity="0.7"/>
                    <circle cx="380" cy="220" r="12" fill="white" stroke="#A0AEC0" stroke-width="1"/>
                    <text x="380" y="280" text-anchor="middle" font-size="14">CD/DVD</text>
                </svg>
            </div>

            <div class="key-point">
                <strong>Think about it:</strong> Wheels, coins, pizzas, plates, clocks, balls, frisbees, donuts, rings, the sun and moon... circles are everywhere!
            </div>

            <p>Here's an important question: <strong>How would you measure the distance around a circle?</strong></p>

            <p>You can't just use a ruler like you would for a square. The edge is curved! That's exactly what we're going to learn today - how to find that distance using math.</p>

            <div class="practice-problem">
                <h3>Think About It</h3>
                <p>Which of these is a real-world example of needing to know the distance around a circle?</p>
                <div class="choices" id="warmup-check-choices">
                    <div class="choice" onclick="selectChoice(this, 'warmup-check', 'fence')">Building a fence around a circular garden</div>
                    <div class="choice" onclick="selectChoice(this, 'warmup-check', 'ribbon')">Wrapping a ribbon around a round cake</div>
                    <div class="choice" onclick="selectChoice(this, 'warmup-check', 'track')">Measuring a running track</div>
                    <div class="choice" onclick="selectChoice(this, 'warmup-check', 'all')">All of the above!</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkQuickAnswer('warmup-check', 'all', 'All of these need circumference! Fences, ribbons, and tracks all require knowing the distance around a circle.')">Check Answer</button>
                </div>
                <div class="feedback" id="warmup-check-feedback"></div>
            </div>

            <div class="btn-group" id="warmup-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">Learn the Parts of a Circle</button>
            </div>
        </div>

        <!-- Section 3: Parts of a Circle -->
        <div class="section" id="section-parts">
            <h2>Parts of a Circle</h2>

            <p>A <span class="highlight">circle</span> is a round shape where <strong>every point on the edge is the same distance from the center</strong>. Let's learn the important parts!</p>

            <div class="visual-container">
                <svg width="580" height="420" viewBox="0 0 580 420" id="interactive-circle-svg">
                    <!-- Main circle -->
                    <circle cx="260" cy="200" r="150" fill="none" stroke="var(--circumference-color)" stroke-width="6" id="interactive-circle"/>

                    <!-- Center point -->
                    <circle cx="260" cy="200" r="10" fill="var(--center-color)"/>
                    <text x="260" y="185" text-anchor="middle" font-size="18" fill="var(--center-color)" font-weight="bold">Center</text>

                    <!-- Radius line -->
                    <line x1="260" y1="200" x2="410" y2="200" stroke="var(--radius-color)" stroke-width="5" id="radius-line"/>
                    <text x="335" y="188" text-anchor="middle" font-size="18" fill="var(--radius-color)" font-weight="bold" id="radius-label">Radius (r)</text>

                    <!-- Diameter line -->
                    <line x1="110" y1="200" x2="410" y2="200" stroke="var(--diameter-color)" stroke-width="5" stroke-dasharray="12,6" id="diameter-line"/>
                    <text x="260" y="228" text-anchor="middle" font-size="18" fill="var(--diameter-color)" font-weight="bold">Diameter (d)</text>

                    <!-- Circumference arc with arrow -->
                    <path d="M 260 50 A 150 150 0 0 1 410 200" fill="none" stroke="var(--circumference-color)" stroke-width="4" marker-end="url(#arrowhead)" id="circumference-arc"/>
                    <text x="400" y="90" font-size="18" fill="var(--circumference-color)" font-weight="bold">Circumference (C)</text>
                    <text x="400" y="112" font-size="16" fill="var(--circumference-color)">Distance around</text>

                    <!-- Arrow marker -->
                    <defs>
                        <marker id="arrowhead" markerWidth="12" markerHeight="9" refX="10" refY="4.5" orient="auto">
                            <polygon points="0 0, 12 4.5, 0 9" fill="var(--circumference-color)"/>
                        </marker>
                    </defs>
                </svg>

                <div class="legend">
                    <div class="legend-item"><div class="legend-color center"></div> Center</div>
                    <div class="legend-item"><div class="legend-color radius"></div> Radius</div>
                    <div class="legend-item"><div class="legend-color diameter"></div> Diameter</div>
                    <div class="legend-item"><div class="legend-color circumference"></div> Circumference</div>
                </div>
            </div>

            <div class="interactive-controls">
                <span class="try-it-label">Try It Yourself!</span>
                <h4>Move the slider to change the radius and see how the circle changes!</h4>

                <div class="slider-container">
                    <label for="radius-slider">Radius:</label>
                    <input type="range" id="radius-slider" class="radius-slider" min="50" max="170" value="150">
                </div>

                <div class="measurements-display">
                    <div class="measurement-box radius-box">
                        <div class="measurement-label">Radius (r)</div>
                        <div class="measurement-value" id="radius-value">150 units</div>
                    </div>
                    <div class="measurement-box diameter-box">
                        <div class="measurement-label">Diameter (d = 2r)</div>
                        <div class="measurement-value" id="diameter-value">300 units</div>
                    </div>
                    <div class="measurement-box circumference-box">
                        <div class="measurement-label">Circumference (C = πd)</div>
                        <div class="measurement-value" id="circumference-value">942 units</div>
                    </div>
                </div>
            </div>

            <div class="key-point">
                <strong>Radius (r):</strong> The distance from the center to the edge of the circle.
            </div>

            <div class="key-point">
                <strong>Diameter (d):</strong> The distance across the circle through the center. It's like two radii put together!
            </div>

            <div class="key-point">
                <strong>Circumference (C):</strong> The distance all the way around the circle. Think of it like the circle's perimeter!
            </div>

            <div class="formula-box">
                <div class="formula-desc">Important Relationship:</div>
                <div class="formula">d = 2r</div>
                <div class="formula-desc">The diameter is always <strong>twice</strong> the radius!</div>
            </div>

            <div class="understanding-check">
                <h4>Do you understand the parts of a circle?</h4>
                <div class="btn-group">
                    <button class="btn btn-success" onclick="showAltExplanation('parts', false)">Yes, I understand!</button>
                    <button class="btn btn-secondary" onclick="showAltExplanation('parts', true)">No, explain it differently</button>
                </div>
            </div>

            <div class="alt-explanation" id="alt-parts">
                <h4>Let's Think About It Differently!</h4>
                <p><strong>Imagine a pizza!</strong></p>
                <ul>
                    <li><strong>Center:</strong> The very middle of the pizza where all slices meet</li>
                    <li><strong>Radius:</strong> One pizza slice from the center to the crust - like cutting from the middle to the edge</li>
                    <li><strong>Diameter:</strong> A cut straight across the whole pizza through the middle - it's TWO radius lengths!</li>
                    <li><strong>Circumference:</strong> The outer crust all the way around - how much crust would you eat if you went around the whole pizza?</li>
                </ul>
                <div class="visual-container">
                    <svg width="300" height="300" viewBox="0 0 300 300">
                        <!-- Pizza circle -->
                        <circle cx="150" cy="150" r="100" fill="#F6AD55" stroke="#C05621" stroke-width="8"/>
                        <!-- Pizza toppings (simple dots) -->
                        <circle cx="120" cy="100" r="8" fill="#C53030"/>
                        <circle cx="180" cy="120" r="8" fill="#C53030"/>
                        <circle cx="150" cy="180" r="8" fill="#C53030"/>
                        <circle cx="100" cy="150" r="8" fill="#C53030"/>
                        <circle cx="190" cy="170" r="8" fill="#C53030"/>
                        <!-- Center -->
                        <circle cx="150" cy="150" r="6" fill="var(--center-color)"/>
                        <!-- Slice line (radius) -->
                        <line x1="150" y1="150" x2="250" y2="150" stroke="var(--radius-color)" stroke-width="3"/>
                        <text x="200" y="140" font-size="14" fill="var(--radius-color)" font-weight="bold">Radius</text>
                    </svg>
                </div>
                <button class="btn btn-primary" onclick="hideAltExplanation('parts')" style="margin-top: 15px;">Got it! Continue</button>
            </div>

            <!-- Quick Check for Parts -->
            <div class="practice-problem" id="parts-quick-check" style="display: none;">
                <h3>Quick Check!</h3>
                <p>A circle has a radius of <strong>7 cm</strong>. What is the diameter?</p>
                <div class="choices" id="parts-check-choices">
                    <div class="choice" onclick="selectChoice(this, 'parts-check', '3.5')">3.5 cm</div>
                    <div class="choice" onclick="selectChoice(this, 'parts-check', '14')">14 cm</div>
                    <div class="choice" onclick="selectChoice(this, 'parts-check', '7')">7 cm</div>
                    <div class="choice" onclick="selectChoice(this, 'parts-check', '21')">21 cm</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkQuickAnswer('parts-check', '14', 'Remember: diameter = 2 × radius. So d = 2 × 7 = 14 cm!')">Check Answer</button>
                </div>
                <div class="feedback" id="parts-check-feedback"></div>
            </div>

            <!-- FAQ for Parts -->
            <div class="faq-section" id="parts-faq" style="display: none;">
                <h3>Quick Questions About Circle Parts</h3>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Which is longer - the radius or the diameter?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>The diameter is always longer! It's exactly twice the length of the radius because it goes all the way across the circle, while the radius only goes halfway (from center to edge).</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can a circle have more than one radius?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! You can draw a radius from the center to ANY point on the edge. A circle has infinitely many radii - but they're all the same length! That's what makes a circle special.</p>
                    </div>
                </div>
            </div>

            <div class="btn-group" id="parts-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">Continue to Pi</button>
            </div>
        </div>

        <!-- Section 3: What is Pi -->
        <div class="section" id="section-pi">
            <h2>What is Pi (π)?</h2>

            <p><span class="highlight">Pi (π)</span> is a very special number in math. It's approximately <strong>3.14</strong> (or 3.14159... it goes on forever!).</p>

            <p>Here's the amazing thing about pi:</p>

            <div class="formula-box">
                <div class="formula-desc">For EVERY circle in the universe:</div>
                <div class="formula">Circumference ÷ Diameter = π</div>
                <div class="formula-desc">This ratio is ALWAYS about 3.14!</div>
            </div>

            <div class="visual-container">
                <svg width="500" height="280" viewBox="0 0 500 280">
                    <!-- Small circle -->
                    <circle cx="80" cy="120" r="40" fill="none" stroke="var(--circumference-color)" stroke-width="3"/>
                    <line x1="40" y1="120" x2="120" y2="120" stroke="var(--diameter-color)" stroke-width="2"/>
                    <text x="80" y="180" text-anchor="middle" font-size="14" fill="var(--text-color)">d = 2</text>
                    <text x="80" y="200" text-anchor="middle" font-size="14" fill="var(--circumference-color)">C = 6.28</text>
                    <text x="80" y="220" text-anchor="middle" font-size="12" fill="var(--text-color)">6.28 ÷ 2 = 3.14</text>

                    <!-- Medium circle -->
                    <circle cx="220" cy="120" r="70" fill="none" stroke="var(--circumference-color)" stroke-width="3"/>
                    <line x1="150" y1="120" x2="290" y2="120" stroke="var(--diameter-color)" stroke-width="2"/>
                    <text x="220" y="210" text-anchor="middle" font-size="14" fill="var(--text-color)">d = 5</text>
                    <text x="220" y="230" text-anchor="middle" font-size="14" fill="var(--circumference-color)">C = 15.7</text>
                    <text x="220" y="250" text-anchor="middle" font-size="12" fill="var(--text-color)">15.7 ÷ 5 = 3.14</text>

                    <!-- Large circle -->
                    <circle cx="400" cy="120" r="100" fill="none" stroke="var(--circumference-color)" stroke-width="3"/>
                    <line x1="300" y1="120" x2="500" y2="120" stroke="var(--diameter-color)" stroke-width="2"/>
                    <text x="400" y="240" text-anchor="middle" font-size="14" fill="var(--text-color)">d = 10</text>
                    <text x="400" y="260" text-anchor="middle" font-size="14" fill="var(--circumference-color)">C = 31.4</text>
                    <text x="400" y="280" text-anchor="middle" font-size="12" fill="var(--text-color)">31.4 ÷ 10 = 3.14</text>
                </svg>

                <p style="margin-top: 15px;"><strong>No matter the size, C ÷ d always equals π (3.14)!</strong></p>
            </div>

            <div class="key-point">
                <strong>Why is π special?</strong> Because this ratio is the same for EVERY circle - tiny circles, huge circles, any circle! That's what makes it a mathematical constant.
            </div>

            <div class="understanding-check">
                <h4>Do you understand what π (pi) is?</h4>
                <div class="btn-group">
                    <button class="btn btn-success" onclick="showAltExplanation('pi', false)">Yes, I understand!</button>
                    <button class="btn btn-secondary" onclick="showAltExplanation('pi', true)">No, explain it differently</button>
                </div>
            </div>

            <div class="alt-explanation" id="alt-pi">
                <h4>Let's Think About It Differently!</h4>
                <p><strong>Imagine wrapping a string around a circle:</strong></p>
                <p>If you wrap a string around the edge of ANY circle, then stretch it out straight, it will be about <strong>3.14 times longer</strong> than the diameter (the distance across).</p>

                <div class="visual-container" style="background: #FFFBEB;">
                    <svg width="400" height="200" viewBox="0 0 400 200">
                        <!-- Circle with string -->
                        <circle cx="100" cy="100" r="60" fill="none" stroke="var(--circumference-color)" stroke-width="4"/>
                        <line x1="40" y1="100" x2="160" y2="100" stroke="var(--diameter-color)" stroke-width="3"/>
                        <text x="100" y="180" text-anchor="middle" font-size="14">d = 4 cm</text>

                        <!-- Arrow -->
                        <text x="200" y="100" font-size="30">→</text>

                        <!-- Stretched string -->
                        <line x1="240" y1="100" x2="390" y2="100" stroke="var(--circumference-color)" stroke-width="4"/>
                        <text x="315" y="85" text-anchor="middle" font-size="14" fill="var(--circumference-color)">String = 12.56 cm</text>
                        <text x="315" y="130" text-anchor="middle" font-size="14">12.56 ÷ 4 = 3.14</text>
                    </svg>
                </div>

                <p>This works for every circle ever! Big or small, the string is always about <strong>3.14 times</strong> the diameter.</p>
                <button class="btn btn-primary" onclick="hideAltExplanation('pi')" style="margin-top: 15px;">Got it! Continue</button>
            </div>

            <!-- Quick Check for Pi -->
            <div class="practice-problem" id="pi-quick-check" style="display: none;">
                <h3>Quick Check!</h3>
                <p>If a circle has a circumference of 31.4 cm and a diameter of 10 cm, what is C ÷ d?</p>
                <div class="choices" id="pi-check-choices">
                    <div class="choice" onclick="selectChoice(this, 'pi-check', '3.14')">3.14</div>
                    <div class="choice" onclick="selectChoice(this, 'pi-check', '21.4')">21.4</div>
                    <div class="choice" onclick="selectChoice(this, 'pi-check', '41.4')">41.4</div>
                    <div class="choice" onclick="selectChoice(this, 'pi-check', '314')">314</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkQuickAnswer('pi-check', '3.14', 'Exactly! 31.4 ÷ 10 = 3.14, which is π! This works for every circle.')">Check Answer</button>
                </div>
                <div class="feedback" id="pi-check-feedback"></div>
            </div>

            <!-- FAQ for Pi -->
            <div class="faq-section" id="pi-faq" style="display: none;">
                <h3>Quick Questions About Pi</h3>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Does π ever end?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>No! π goes on forever without repeating: 3.14159265358979... Mathematicians have calculated trillions of digits, but it never ends! For our work, 3.14 is close enough.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Why is π always the same for every circle?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Because all circles are the same shape - just different sizes! When you scale a circle up or down, both the circumference AND diameter change by the same amount, so their ratio stays constant at 3.14.</p>
                    </div>
                </div>
            </div>

            <div class="btn-group" id="pi-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">Continue to FAQ</button>
            </div>
        </div>

        <!-- Section 4: FAQ #1 -->
        <div class="section" id="section-faq1">
            <h2>Frequently Asked Questions</h2>
            <p>Before we learn the formulas, let's answer some common questions!</p>

            <div class="faq-section">
                <h3>Click any question to see the answer</h3>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Why do we multiply by π?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Because π is the special ratio between circumference and diameter. Every circle's circumference is π times its diameter! Since C ÷ d = π, that means C = π × d. It's just math magic that works for every circle!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Do I have to memorize both formulas?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>You can memorize just one! If you know C = πd, and you remember that d = 2r, you can always figure out the other formula. Just pick whichever one is easier for you to remember!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What if I don't have a calculator?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>You can use π ≈ 3 for quick estimates! So a circle with diameter 10 has a circumference of about 30. For more exact answers, use 3.14. That's close enough for most problems!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>When would I use this in real life?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Lots of places! Building circular structures, calculating running distances on tracks, figuring out how much trim you need for a round table, determining how far a bicycle travels in one wheel rotation, designing wheels for robots, and much more!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Is π exactly 3.14?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>No! π actually goes on forever without repeating: 3.14159265358979... We use 3.14 because it's close enough for most calculations. Scientists and engineers sometimes use more decimal places when they need extra precision!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Why is it called "pi"?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>The symbol π comes from the Greek letter "pi," which is the first letter of the Greek word "perimetros" (meaning "perimeter" or distance around). It was first used by mathematician William Jones in 1706!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can the radius ever be bigger than the diameter?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Never! The diameter is always exactly twice the radius (d = 2r). So if the radius is 5, the diameter is 10. The diameter will always be the bigger number because it spans the whole circle while the radius only goes halfway.</p>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="nextSection()">Continue to Checkpoint</button>
            </div>
        </div>

        <!-- Section 5: Checkpoint 1 -->
        <div class="section" id="section-checkpoint1">
            <h2>Checkpoint: What Have We Learned?</h2>

            <p>Great job so far! Let's make sure we understand everything before moving on to the formulas.</p>

            <div class="key-point">
                <strong>Quick Review:</strong>
                <ul>
                    <li><span style="color: var(--center-color);">Center</span> - The middle point of the circle</li>
                    <li><span style="color: var(--radius-color);">Radius (r)</span> - Distance from center to edge</li>
                    <li><span style="color: var(--diameter-color);">Diameter (d)</span> - Distance across through center (d = 2r)</li>
                    <li><span style="color: var(--circumference-color);">Circumference (C)</span> - Distance around the circle</li>
                    <li><span style="color: var(--primary-color);">Pi (π)</span> - About 3.14, the ratio C ÷ d for ALL circles</li>
                </ul>
            </div>

            <div class="visual-container">
                <svg width="400" height="280" viewBox="0 0 400 280">
                    <circle cx="200" cy="130" r="100" fill="none" stroke="var(--circumference-color)" stroke-width="4"/>
                    <circle cx="200" cy="130" r="6" fill="var(--center-color)"/>
                    <line x1="200" y1="130" x2="300" y2="130" stroke="var(--radius-color)" stroke-width="3"/>
                    <line x1="100" y1="130" x2="300" y2="130" stroke="var(--diameter-color)" stroke-width="2" stroke-dasharray="8,4"/>
                    <text x="250" y="120" font-size="14" fill="var(--radius-color)" font-weight="bold">r</text>
                    <text x="200" y="150" text-anchor="middle" font-size="14" fill="var(--diameter-color)" font-weight="bold">d = 2r</text>
                    <text x="200" y="260" text-anchor="middle" font-size="16" fill="var(--circumference-color)" font-weight="bold">C ÷ d = π ≈ 3.14</text>
                </svg>
            </div>

            <div class="practice-problem">
                <h3>Checkpoint Question 1</h3>
                <p>A circle has a diameter of 12 cm. What is its radius?</p>
                <div class="choices" id="check1-q1-choices">
                    <div class="choice" onclick="selectChoice(this, 'check1-q1', '6')">6 cm</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q1', '24')">24 cm</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q1', '12')">12 cm</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q1', '4')">4 cm</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkQuickAnswer('check1-q1', '6', 'Correct! Radius = diameter ÷ 2, so r = 12 ÷ 2 = 6 cm.')">Check Answer</button>
                </div>
                <div class="feedback" id="check1-q1-feedback"></div>
            </div>

            <div class="practice-problem" id="check1-q2" style="display: none;">
                <h3>Checkpoint Question 2</h3>
                <p>If you divide ANY circle's circumference by its diameter, what do you always get?</p>
                <div class="choices" id="check1-q2-choices">
                    <div class="choice" onclick="selectChoice(this, 'check1-q2', '2')">2</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q2', '3.14')">About 3.14 (π)</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q2', '1')">1</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q2', '10')">10</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkQuickAnswer('check1-q2', '3.14', 'Yes! C ÷ d = π ≈ 3.14 for EVERY circle. That is what makes pi so special!')">Check Answer</button>
                </div>
                <div class="feedback" id="check1-q2-feedback"></div>
            </div>

            <div class="practice-problem" id="check1-q3" style="display: none;">
                <h3>Checkpoint Question 3</h3>
                <p>A bicycle wheel has a radius of 14 inches. What is the diameter?</p>
                <div class="choices" id="check1-q3-choices">
                    <div class="choice" onclick="selectChoice(this, 'check1-q3', '7')">7 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q3', '14')">14 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q3', '28')">28 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'check1-q3', '42')">42 inches</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkQuickAnswer('check1-q3', '28', 'Perfect! Diameter = 2 × radius, so d = 2 × 14 = 28 inches.')">Check Answer</button>
                </div>
                <div class="feedback" id="check1-q3-feedback"></div>
            </div>

            <div class="btn-group" id="checkpoint1-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">Continue to Formulas</button>
            </div>
        </div>

        <!-- Section 6: The Formulas -->
        <div class="section" id="section-formulas">
            <h2>The Circumference Formulas</h2>

            <p>Now you're ready for the formulas! There are <strong>two ways</strong> to calculate circumference, and they both give you the same answer.</p>

            <div class="visual-container">
                <svg width="500" height="220" viewBox="0 0 500 220">
                    <!-- Left circle - diameter -->
                    <circle cx="130" cy="110" r="80" fill="none" stroke="var(--circumference-color)" stroke-width="4"/>
                    <line x1="50" y1="110" x2="210" y2="110" stroke="var(--diameter-color)" stroke-width="4"/>
                    <circle cx="130" cy="110" r="5" fill="var(--center-color)"/>
                    <text x="130" y="125" text-anchor="middle" font-size="16" fill="var(--diameter-color)" font-weight="bold">d</text>
                    <text x="130" y="210" text-anchor="middle" font-size="14">Use diameter</text>

                    <!-- Equals sign -->
                    <text x="250" y="115" text-anchor="middle" font-size="24" font-weight="bold">=</text>

                    <!-- Right circle - radius -->
                    <circle cx="370" cy="110" r="80" fill="none" stroke="var(--circumference-color)" stroke-width="4"/>
                    <line x1="370" y1="110" x2="450" y2="110" stroke="var(--radius-color)" stroke-width="4"/>
                    <circle cx="370" cy="110" r="5" fill="var(--center-color)"/>
                    <text x="410" y="100" text-anchor="middle" font-size="16" fill="var(--radius-color)" font-weight="bold">r</text>
                    <text x="370" y="210" text-anchor="middle" font-size="14">Use radius</text>
                </svg>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0;">
                <div class="formula-box" style="background: linear-gradient(135deg, #E53E3E, #C53030);">
                    <div class="formula-desc">When you have the DIAMETER:</div>
                    <div class="formula">C = πd</div>
                    <div class="formula-desc">C = 3.14 × diameter</div>
                </div>

                <div class="formula-box" style="background: linear-gradient(135deg, #3182CE, #2B6CB0);">
                    <div class="formula-desc">When you have the RADIUS:</div>
                    <div class="formula">C = 2πr</div>
                    <div class="formula-desc">C = 2 × 3.14 × radius</div>
                </div>
            </div>

            <div class="key-point">
                <strong>Remember:</strong> Both formulas give the SAME answer! Use whichever one matches the information you're given. If you have the diameter, use C = πd. If you have the radius, use C = 2πr.
            </div>

            <div class="key-point">
                <strong>Why do they give the same answer?</strong> Because d = 2r! If you substitute 2r for d in the first formula: C = π(2r) = 2πr. See? Same formula!
            </div>

            <div class="understanding-check">
                <h4>Do you understand the circumference formulas?</h4>
                <div class="btn-group">
                    <button class="btn btn-success" onclick="showAltExplanation('formulas', false)">Yes, I understand!</button>
                    <button class="btn btn-secondary" onclick="showAltExplanation('formulas', true)">No, explain it differently</button>
                </div>
            </div>

            <div class="alt-explanation" id="alt-formulas">
                <h4>Let's Think About It Differently!</h4>
                <p><strong>Think of it like a recipe:</strong></p>
                <p>To find the distance around a circle, you need to know either:</p>
                <ul>
                    <li><strong>The diameter</strong> (distance across) → Multiply it by 3.14</li>
                    <li><strong>The radius</strong> (distance from center to edge) → Multiply it by 2, then by 3.14</li>
                </ul>
                <p>That's it! The circumference is always about <strong>3 times bigger</strong> than the diameter.</p>

                <div class="example-box" style="background: #FFFBEB;">
                    <h4>Quick Example:</h4>
                    <p>If a circle has diameter = 10:</p>
                    <p>C = 3.14 × 10 = <strong>31.4</strong></p>
                    <p>If a circle has radius = 5 (same circle!):</p>
                    <p>C = 2 × 3.14 × 5 = <strong>31.4</strong></p>
                    <p>Same answer!</p>
                </div>
                <button class="btn btn-primary" onclick="hideAltExplanation('formulas')" style="margin-top: 15px;">Got it! Continue</button>
            </div>

            <!-- Quick Check for Formulas -->
            <div class="practice-problem" id="formulas-quick-check" style="display: none;">
                <h3>Quick Check!</h3>
                <p>Which formula should you use if you know the <strong>radius</strong> of a circle?</p>
                <div class="choices" id="formulas-check-choices">
                    <div class="choice" onclick="selectChoice(this, 'formulas-check', 'C = πd')">C = πd</div>
                    <div class="choice" onclick="selectChoice(this, 'formulas-check', 'C = 2πr')">C = 2πr</div>
                    <div class="choice" onclick="selectChoice(this, 'formulas-check', 'd = 2r')">d = 2r</div>
                    <div class="choice" onclick="selectChoice(this, 'formulas-check', 'C = r + d')">C = r + d</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkQuickAnswer('formulas-check', 'C = 2πr', 'Correct! When you have the radius, use C = 2πr. When you have the diameter, use C = πd.')">Check Answer</button>
                </div>
                <div class="feedback" id="formulas-check-feedback"></div>
            </div>

            <!-- FAQ for Formulas -->
            <div class="faq-section" id="formulas-faq" style="display: none;">
                <h3>Quick Questions About the Formulas</h3>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What does the "2" mean in C = 2πr?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>The "2" is there because diameter = 2 × radius. Since C = πd and d = 2r, when we substitute, we get C = π(2r) = 2πr. The 2 converts the radius to diameter!</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can I always use the same formula?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! You can pick your favorite and stick with it. If you're given radius but prefer C = πd, just double the radius first to get the diameter. If you're given diameter but prefer C = 2πr, just halve the diameter to get the radius!</p>
                    </div>
                </div>
            </div>

            <div class="btn-group" id="formulas-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">See an Example</button>
            </div>
        </div>

        <!-- Section 6: Example 1 -->
        <div class="section" id="section-example1">
            <h2>Example 1: Using Diameter</h2>

            <div class="example-box">
                <h4>Problem:</h4>
                <p>A circular swimming pool has a diameter of <strong>10 meters</strong>. What is the circumference of the pool?</p>
            </div>

            <div class="visual-container">
                <svg width="350" height="300" viewBox="0 0 350 300">
                    <!-- Pool (circle) -->
                    <circle cx="175" cy="140" r="100" fill="#BEE3F8" stroke="#3182CE" stroke-width="4"/>

                    <!-- Water ripples -->
                    <circle cx="175" cy="140" r="30" fill="none" stroke="#90CDF4" stroke-width="1" opacity="0.5"/>
                    <circle cx="175" cy="140" r="50" fill="none" stroke="#90CDF4" stroke-width="1" opacity="0.4"/>
                    <circle cx="175" cy="140" r="70" fill="none" stroke="#90CDF4" stroke-width="1" opacity="0.3"/>

                    <!-- Diameter line -->
                    <line x1="75" y1="140" x2="275" y2="140" stroke="var(--diameter-color)" stroke-width="4"/>
                    <circle cx="75" cy="140" r="5" fill="var(--diameter-color)"/>
                    <circle cx="275" cy="140" r="5" fill="var(--diameter-color)"/>

                    <!-- Diameter label -->
                    <text x="175" y="165" text-anchor="middle" font-size="18" fill="var(--diameter-color)" font-weight="bold">d = 10 m</text>

                    <!-- Title -->
                    <text x="175" y="270" text-anchor="middle" font-size="16" fill="var(--text-color)">Swimming Pool (Top View)</text>

                    <!-- Question mark for circumference -->
                    <text x="280" y="80" font-size="16" fill="var(--circumference-color)" font-weight="bold">C = ?</text>
                </svg>
            </div>

            <div class="steps">
                <h4>Step-by-Step Solution:</h4>

                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Identify what you're given:</strong><br>
                        Diameter (d) = 10 meters
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>Choose the right formula:</strong><br>
                        Since we have the diameter, use <strong>C = πd</strong>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>Plug in the values:</strong><br>
                        C = 3.14 × 10
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <strong>Calculate:</strong><br>
                        C = <strong>31.4 meters</strong>
                    </div>
                </div>
            </div>

            <div class="visual-container" style="background: #F0FFF4;">
                <svg width="350" height="250" viewBox="0 0 350 250">
                    <!-- Pool with answer -->
                    <circle cx="175" cy="110" r="100" fill="#BEE3F8" stroke="var(--circumference-color)" stroke-width="5"/>

                    <!-- Diameter -->
                    <line x1="75" y1="110" x2="275" y2="110" stroke="var(--diameter-color)" stroke-width="3" stroke-dasharray="8,4"/>
                    <text x="175" y="130" text-anchor="middle" font-size="14" fill="var(--diameter-color)">d = 10 m</text>

                    <!-- Circumference label -->
                    <text x="175" y="230" text-anchor="middle" font-size="20" fill="var(--circumference-color)" font-weight="bold">Circumference = 31.4 meters</text>
                </svg>
                <p style="margin-top: 10px;">The distance around the pool is <strong>31.4 meters</strong>!</p>
            </div>

            <div class="faq-section">
                <h3>Quick Questions About This Example</h3>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Why did we use C = πd instead of C = 2πr?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Because the problem gave us the diameter (10 meters), not the radius! Always use the formula that matches the information you have. It saves a step!</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What if someone walks around this pool?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>They would walk 31.4 meters! That's the circumference - the total distance around the circle. It's like measuring the edge of the pool with a tape measure.</p>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="nextSection()">Try a Practice Problem!</button>
            </div>
        </div>

        <!-- Section 7: Practice 1 -->
        <div class="section" id="section-practice1">
            <h2>Practice Problem 1</h2>

            <div class="practice-problem">
                <h3>Your Turn!</h3>
                <p>A circular pizza has a diameter of <strong>16 inches</strong>. What is the circumference of the pizza?</p>

                <div class="practice-visual">
                    <svg width="300" height="280" viewBox="0 0 300 280">
                        <!-- Pizza base -->
                        <circle cx="150" cy="130" r="100" fill="#F6AD55" stroke="#C05621" stroke-width="10"/>

                        <!-- Cheese/toppings area -->
                        <circle cx="150" cy="130" r="85" fill="#ECC94B"/>

                        <!-- Pepperoni -->
                        <circle cx="110" cy="90" r="12" fill="#C53030"/>
                        <circle cx="180" cy="100" r="12" fill="#C53030"/>
                        <circle cx="130" cy="150" r="12" fill="#C53030"/>
                        <circle cx="190" cy="160" r="12" fill="#C53030"/>
                        <circle cx="150" cy="110" r="12" fill="#C53030"/>
                        <circle cx="110" cy="170" r="12" fill="#C53030"/>

                        <!-- Diameter line -->
                        <line x1="50" y1="130" x2="250" y2="130" stroke="var(--diameter-color)" stroke-width="3"/>
                        <circle cx="50" cy="130" r="4" fill="var(--diameter-color)"/>
                        <circle cx="250" cy="130" r="4" fill="var(--diameter-color)"/>

                        <!-- Label -->
                        <text x="150" y="155" text-anchor="middle" font-size="16" fill="var(--diameter-color)" font-weight="bold">d = 16 inches</text>
                        <text x="150" y="260" text-anchor="middle" font-size="14">Find the circumference!</text>
                    </svg>
                </div>

                <p><strong>What is the circumference?</strong></p>

                <div class="choices" id="practice1-choices">
                    <div class="choice" onclick="selectChoice(this, 'practice1', '50.24')">50.24 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'practice1', '48')">48 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'practice1', '16')">16 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'practice1', '100.48')">100.48 inches</div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkAnswer('practice1', '50.24')" id="practice1-check">Check My Answer</button>
                </div>

                <div class="feedback" id="practice1-feedback"></div>
            </div>

            <div class="btn-group" id="practice1-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">Continue to Example 2</button>
            </div>
        </div>

        <!-- Section 8: Example 2 -->
        <div class="section" id="section-example2">
            <h2>Example 2: Using Radius</h2>

            <div class="example-box">
                <h4>Problem:</h4>
                <p>A circular garden has a radius of <strong>5 feet</strong>. What is the circumference of the garden?</p>
            </div>

            <div class="visual-container">
                <svg width="350" height="300" viewBox="0 0 350 300">
                    <!-- Garden (circle) -->
                    <circle cx="175" cy="140" r="100" fill="#C6F6D5" stroke="#276749" stroke-width="4"/>

                    <!-- Flowers (decorative) -->
                    <circle cx="120" cy="100" r="8" fill="#FC8181"/>
                    <circle cx="200" cy="90" r="8" fill="#F6E05E"/>
                    <circle cx="230" cy="140" r="8" fill="#FC8181"/>
                    <circle cx="180" cy="180" r="8" fill="#F6E05E"/>
                    <circle cx="120" cy="170" r="8" fill="#FC8181"/>
                    <circle cx="150" cy="120" r="8" fill="#F6E05E"/>

                    <!-- Center point -->
                    <circle cx="175" cy="140" r="6" fill="var(--center-color)"/>

                    <!-- Radius line -->
                    <line x1="175" y1="140" x2="275" y2="140" stroke="var(--radius-color)" stroke-width="4"/>
                    <circle cx="275" cy="140" r="5" fill="var(--radius-color)"/>

                    <!-- Radius label -->
                    <text x="225" y="130" text-anchor="middle" font-size="18" fill="var(--radius-color)" font-weight="bold">r = 5 ft</text>

                    <!-- Title -->
                    <text x="175" y="270" text-anchor="middle" font-size="16" fill="var(--text-color)">Circular Garden (Top View)</text>

                    <!-- Question -->
                    <text x="50" y="80" font-size="16" fill="var(--circumference-color)" font-weight="bold">C = ?</text>
                </svg>
            </div>

            <div class="steps">
                <h4>Step-by-Step Solution:</h4>

                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Identify what you're given:</strong><br>
                        Radius (r) = 5 feet
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>Choose the right formula:</strong><br>
                        Since we have the radius, use <strong>C = 2πr</strong>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>Plug in the values:</strong><br>
                        C = 2 × 3.14 × 5
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <strong>Calculate step by step:</strong><br>
                        C = 6.28 × 5 = <strong>31.4 feet</strong>
                    </div>
                </div>
            </div>

            <div class="key-point">
                <strong>Notice something cool?</strong> This garden has a radius of 5 feet, which means its diameter is 10 feet (d = 2r). The pool from Example 1 had a diameter of 10 meters. Both have the same circumference formula result (31.4) - just different units!
            </div>

            <div class="visual-container" style="background: #F0FFF4;">
                <svg width="350" height="250" viewBox="0 0 350 250">
                    <!-- Garden with answer -->
                    <circle cx="175" cy="110" r="100" fill="#C6F6D5" stroke="var(--circumference-color)" stroke-width="5"/>

                    <!-- Radius -->
                    <line x1="175" y1="110" x2="275" y2="110" stroke="var(--radius-color)" stroke-width="3"/>
                    <circle cx="175" cy="110" r="4" fill="var(--center-color)"/>
                    <text x="225" y="100" text-anchor="middle" font-size="14" fill="var(--radius-color)">r = 5 ft</text>

                    <!-- Circumference label -->
                    <text x="175" y="230" text-anchor="middle" font-size="20" fill="var(--circumference-color)" font-weight="bold">Circumference = 31.4 feet</text>
                </svg>
                <p style="margin-top: 10px;">The distance around the garden is <strong>31.4 feet</strong>!</p>
            </div>

            <div class="faq-section">
                <h3>Quick Questions About This Example</h3>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Why multiply by 2 first?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>In C = 2πr, you can calculate in any order! Some people do 2 × 5 = 10 first, then 10 × 3.14 = 31.4. Others do 2 × 3.14 = 6.28 first, then 6.28 × 5 = 31.4. Same answer either way!</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Could I have used C = πd instead?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! If radius = 5, then diameter = 10. So C = π × 10 = 3.14 × 10 = 31.4. Same answer! You can always convert between radius and diameter to use your preferred formula.</p>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="nextSection()">Try a Practice Problem!</button>
            </div>
        </div>

        <!-- Section 9: Practice 2 -->
        <div class="section" id="section-practice2">
            <h2>Practice Problem 2</h2>

            <div class="practice-problem">
                <h3>Your Turn!</h3>
                <p>A circular rug has a radius of <strong>4 feet</strong>. What is the circumference of the rug?</p>

                <div class="practice-visual">
                    <svg width="300" height="280" viewBox="0 0 300 280">
                        <!-- Rug (decorative circle) -->
                        <circle cx="150" cy="130" r="100" fill="#E9D8FD" stroke="#805AD5" stroke-width="6"/>
                        <circle cx="150" cy="130" r="85" fill="none" stroke="#B794F4" stroke-width="2"/>
                        <circle cx="150" cy="130" r="70" fill="none" stroke="#D6BCFA" stroke-width="2"/>
                        <circle cx="150" cy="130" r="55" fill="none" stroke="#B794F4" stroke-width="2"/>
                        <circle cx="150" cy="130" r="40" fill="#D6BCFA"/>

                        <!-- Center design -->
                        <circle cx="150" cy="130" r="20" fill="#805AD5"/>

                        <!-- Radius line -->
                        <line x1="150" y1="130" x2="250" y2="130" stroke="var(--radius-color)" stroke-width="4"/>
                        <circle cx="150" cy="130" r="5" fill="var(--center-color)"/>
                        <circle cx="250" cy="130" r="4" fill="var(--radius-color)"/>

                        <!-- Label -->
                        <text x="200" y="120" text-anchor="middle" font-size="16" fill="var(--radius-color)" font-weight="bold">r = 4 feet</text>
                        <text x="150" y="260" text-anchor="middle" font-size="14">Find the circumference!</text>
                    </svg>
                </div>

                <p><strong>Type your answer:</strong></p>

                <div class="answer-input">
                    <input type="number" id="practice2-input" placeholder="?" step="0.01">
                    <span class="unit-label">feet</span>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkInputAnswer('practice2', 25.12)">Check My Answer</button>
                </div>

                <div class="feedback" id="practice2-feedback"></div>
            </div>

            <div class="btn-group" id="practice2-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">Continue to FAQ</button>
            </div>
        </div>

        <!-- Section 10: FAQ #2 -->
        <div class="section" id="section-faq2">
            <h2>More Questions Answered!</h2>
            <p>You're doing great! Here are more frequently asked questions.</p>

            <div class="faq-section">
                <h3>Click any question to see the answer</h3>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What if I have the circumference and need to find the diameter?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Great question! You can work backwards. If C = πd, then <strong>d = C ÷ π</strong>. For example, if C = 31.4, then d = 31.4 ÷ 3.14 = 10. Just divide the circumference by 3.14!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Are radius and diameter always whole numbers?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>No! They can be decimals or fractions. A circle can have a radius of 2.5 cm or 3½ inches. The formulas work the same way - just use the decimal value in your calculation.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Why is the circumference always bigger than the diameter?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Because we're measuring around the entire circle (the long way) instead of just across it. The circumference is always about <strong>3 times the diameter</strong> (actually π times, which is about 3.14).</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Does every circle have the same circumference?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>No! Bigger circles have bigger circumferences. But every circle has the same <strong>π ratio</strong> (circumference ÷ diameter = 3.14). That's what makes π special!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I find the radius if I only know the circumference?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Work backwards from C = 2πr. First divide the circumference by π (3.14), then divide by 2. So if C = 31.4, then r = 31.4 ÷ 3.14 ÷ 2 = 5. Or use <strong>r = C ÷ (2π)</strong>.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What's the difference between circumference and perimeter?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>They're actually the same idea! "Perimeter" is the distance around any shape (like a square or triangle). "Circumference" is the special name we use for the distance around a circle. Think of circumference as a circle's perimeter!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What if I forget which formula to use?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Look at what information you have! If you see "radius," use C = 2πr. If you see "diameter," use C = πd. You can also convert: if given radius, double it to get diameter. If given diameter, halve it to get radius!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Why do both formulas give the same answer?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Because diameter = 2 × radius! If you replace d with 2r in the formula C = πd, you get C = π(2r) = 2πr. They're really the same formula written differently. Pretty cool, right?</p>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="nextSection()">Continue to Real-World Example</button>
            </div>
        </div>

        <!-- Section 11: Example 3 -->
        <div class="section" id="section-example3">
            <h2>Example 3: Real-World Application</h2>

            <div class="example-box">
                <h4>Problem:</h4>
                <p>A bicycle wheel has a diameter of <strong>24 inches</strong>. If the wheel makes one complete rotation, how far does the bicycle travel?</p>
            </div>

            <div class="key-point">
                <strong>Key Insight:</strong> When a wheel makes one complete rotation, the bicycle travels a distance equal to the wheel's circumference! Think about it - the wheel "unrolls" along the ground.
            </div>

            <div class="visual-container">
                <svg width="500" height="280" viewBox="0 0 500 280">
                    <!-- Ground line -->
                    <line x1="20" y1="220" x2="480" y2="220" stroke="#A0AEC0" stroke-width="3"/>

                    <!-- Bicycle wheel -->
                    <circle cx="100" cy="160" r="60" fill="none" stroke="#2D3748" stroke-width="4"/>
                    <circle cx="100" cy="160" r="50" fill="none" stroke="#718096" stroke-width="2"/>
                    <circle cx="100" cy="160" r="8" fill="#2D3748"/>
                    <!-- Spokes -->
                    <line x1="100" y1="100" x2="100" y2="220" stroke="#718096" stroke-width="2"/>
                    <line x1="40" y1="160" x2="160" y2="160" stroke="#718096" stroke-width="2"/>
                    <line x1="58" y1="118" x2="142" y2="202" stroke="#718096" stroke-width="2"/>
                    <line x1="142" y1="118" x2="58" y2="202" stroke="#718096" stroke-width="2"/>

                    <!-- Diameter indicator -->
                    <line x1="40" y1="160" x2="160" y2="160" stroke="var(--diameter-color)" stroke-width="3"/>
                    <text x="100" y="185" text-anchor="middle" font-size="14" fill="var(--diameter-color)" font-weight="bold">d = 24"</text>

                    <!-- Arrow showing direction -->
                    <path d="M 180 160 L 250 160" stroke="var(--circumference-color)" stroke-width="3" marker-end="url(#arrow2)"/>
                    <defs>
                        <marker id="arrow2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="var(--circumference-color)"/>
                        </marker>
                    </defs>

                    <!-- Distance traveled line -->
                    <line x1="100" y1="240" x2="400" y2="240" stroke="var(--circumference-color)" stroke-width="4"/>
                    <circle cx="100" cy="240" r="4" fill="var(--circumference-color)"/>
                    <circle cx="400" cy="240" r="4" fill="var(--circumference-color)"/>
                    <text x="250" y="260" text-anchor="middle" font-size="14" fill="var(--circumference-color)" font-weight="bold">Distance = Circumference = ?</text>

                    <!-- Rolled wheel at end -->
                    <circle cx="400" cy="160" r="60" fill="none" stroke="#CBD5E0" stroke-width="2" stroke-dasharray="5,5"/>
                </svg>
            </div>

            <div class="steps">
                <h4>Step-by-Step Solution:</h4>

                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Understand the problem:</strong><br>
                        One rotation = circumference of the wheel
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>Identify what you're given:</strong><br>
                        Diameter (d) = 24 inches
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>Use the formula:</strong><br>
                        C = πd = 3.14 × 24
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <strong>Calculate:</strong><br>
                        C = <strong>75.36 inches</strong>
                    </div>
                </div>
            </div>

            <div class="visual-container" style="background: #F0FFF4;">
                <p style="font-size: 20px;">The bicycle travels <strong style="color: var(--circumference-color);">75.36 inches</strong> (about 6.28 feet) in one wheel rotation!</p>
            </div>

            <div class="faq-section">
                <h3>Quick Questions About Wheels and Rotation</h3>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Why does one rotation equal the circumference?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Imagine the wheel "unrolling" like a roll of tape. When it completes one full turn, the entire outer edge has touched the ground once. That edge IS the circumference - so you travel exactly that distance!</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What if the wheel rotates twice?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Then you travel twice the circumference! For this bike wheel: 2 × 75.36 = 150.72 inches. For any number of rotations, just multiply: distance = circumference × number of rotations.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Do bigger wheels travel farther per rotation?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! Bigger wheels have larger circumferences, so they cover more ground in one spin. That's why adult bikes with larger wheels can go faster with the same pedaling speed as kids' bikes!</p>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="nextSection()">Try a Practice Problem!</button>
            </div>
        </div>

        <!-- Section 12: Practice 3 -->
        <div class="section" id="section-practice3">
            <h2>Practice Problem 3</h2>

            <div class="practice-problem">
                <h3>Your Turn!</h3>
                <p>A car tire has a diameter of <strong>26 inches</strong>. How far does the car travel when the tire makes one complete rotation?</p>

                <div class="practice-visual">
                    <svg width="300" height="250" viewBox="0 0 300 250">
                        <!-- Tire -->
                        <circle cx="150" cy="120" r="90" fill="#2D3748"/>
                        <circle cx="150" cy="120" r="75" fill="#4A5568"/>
                        <circle cx="150" cy="120" r="45" fill="#718096"/>
                        <circle cx="150" cy="120" r="20" fill="#2D3748"/>

                        <!-- Hub cap details -->
                        <circle cx="150" cy="120" r="10" fill="#A0AEC0"/>

                        <!-- Diameter line -->
                        <line x1="60" y1="120" x2="240" y2="120" stroke="var(--diameter-color)" stroke-width="4"/>
                        <circle cx="60" cy="120" r="4" fill="var(--diameter-color)"/>
                        <circle cx="240" cy="120" r="4" fill="var(--diameter-color)"/>

                        <!-- Label -->
                        <text x="150" y="150" text-anchor="middle" font-size="16" fill="white" font-weight="bold">d = 26 inches</text>
                        <text x="150" y="235" text-anchor="middle" font-size="14">One rotation = ?</text>
                    </svg>
                </div>

                <p><strong>How far does the car travel in one rotation?</strong></p>

                <div class="choices" id="practice3-choices">
                    <div class="choice" onclick="selectChoice(this, 'practice3', '81.64')">81.64 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'practice3', '26')">26 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'practice3', '52')">52 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'practice3', '163.28')">163.28 inches</div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkAnswer('practice3', '81.64')" id="practice3-check">Check My Answer</button>
                </div>

                <div class="feedback" id="practice3-feedback"></div>
            </div>

            <div class="btn-group" id="practice3-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">Continue to FAQ</button>
            </div>
        </div>

        <!-- Section 13: FAQ #3 -->
        <div class="section" id="section-faq3">
            <h2>Final Questions Before the Quiz!</h2>
            <p>Almost there! Here are a few more things students often wonder about.</p>

            <div class="faq-section">
                <h3>Click any question to see the answer</h3>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Will we always use 3.14 for π?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>In this lesson, yes! Later in math, you might use more decimal places (3.14159...) or even use the π button on calculators for more exact answers. But 3.14 is great for now!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What if I get a really long decimal answer?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>You can round to 2 decimal places (like 31.42 instead of 31.415926...). Unless your teacher says otherwise, two decimal places is usually just right!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Is there a formula for the area of a circle too?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! You'll learn that later. It uses π too: <strong>A = πr²</strong> (Area equals pi times the radius squared). That tells you how much space is inside the circle!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Who discovered π?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>People have known about π for thousands of years! Ancient Babylonians, Egyptians, and Greeks all studied it. Archimedes (around 250 BC) made a very good approximation. Nobody "discovered" it - it's a natural property of all circles that humans figured out over time!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What is Pi Day?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Pi Day is celebrated on March 14th (3/14) because π ≈ 3.14! People eat pie (get it?), have math contests, and celebrate all things circular. Some people even try to memorize as many digits of π as they can!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>Can I use the π button on my calculator?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! Most calculators have a π button that uses many more decimal places than 3.14. This gives a more precise answer. For this lesson, using 3.14 is perfectly fine, but the π button works great too!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What other shapes use π?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Any shape with curves! Spheres (balls), cylinders (cans), cones (ice cream cones), and ellipses (ovals) all use π in their formulas. Whenever you see a curve, π is probably involved!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What's the most digits of π anyone has calculated?</span>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Over 100 trillion digits! Computers have calculated π to incredible lengths. But for everyday math, even NASA only uses about 15 digits of π for spacecraft calculations. 3.14 is plenty for us!</p>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="nextSection()">Continue to Extra Practice</button>
            </div>
        </div>

        <!-- Section 14: Extra Practice -->
        <div class="section" id="section-extra-practice">
            <h2>Extra Practice Round!</h2>

            <p>You're doing amazing! Let's try a few more problems to make sure you've got this down.</p>

            <div class="practice-problem">
                <h3>Practice Problem A</h3>
                <p>A circular trampoline has a radius of <strong>6 feet</strong>. What is the circumference?</p>
                <div class="practice-visual">
                    <svg width="250" height="200" viewBox="0 0 250 200">
                        <circle cx="125" cy="100" r="80" fill="#BEE3F8" stroke="#2B6CB0" stroke-width="4"/>
                        <circle cx="125" cy="100" r="60" fill="none" stroke="#63B3ED" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="125" y1="100" x2="205" y2="100" stroke="var(--radius-color)" stroke-width="3"/>
                        <circle cx="125" cy="100" r="5" fill="var(--center-color)"/>
                        <text x="165" y="90" font-size="14" fill="var(--radius-color)" font-weight="bold">r = 6 ft</text>
                    </svg>
                </div>
                <div class="choices" id="extra-a-choices">
                    <div class="choice" onclick="selectChoice(this, 'extra-a', '37.68')">37.68 feet</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-a', '18.84')">18.84 feet</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-a', '12')">12 feet</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-a', '75.36')">75.36 feet</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkExtraPractice('extra-a', '37.68', 'C = 2πr = 2 × 3.14 × 6 = 37.68 feet')">Check Answer</button>
                </div>
                <div class="feedback" id="extra-a-feedback"></div>
            </div>

            <div class="practice-problem" id="extra-b-problem" style="display: none;">
                <h3>Practice Problem B</h3>
                <p>A circular clock face has a diameter of <strong>12 inches</strong>. What is the circumference?</p>
                <div class="practice-visual">
                    <svg width="200" height="200" viewBox="0 0 200 200">
                        <circle cx="100" cy="100" r="70" fill="#F7FAFC" stroke="#2D3748" stroke-width="4"/>
                        <circle cx="100" cy="100" r="4" fill="#2D3748"/>
                        <line x1="100" y1="100" x2="100" y2="50" stroke="#2D3748" stroke-width="3"/>
                        <line x1="100" y1="100" x2="140" y2="100" stroke="#2D3748" stroke-width="2"/>
                        <line x1="30" y1="100" x2="170" y2="100" stroke="var(--diameter-color)" stroke-width="2" stroke-dasharray="6,3"/>
                        <text x="100" y="185" text-anchor="middle" font-size="14" fill="var(--diameter-color)" font-weight="bold">d = 12 in</text>
                    </svg>
                </div>
                <div class="choices" id="extra-b-choices">
                    <div class="choice" onclick="selectChoice(this, 'extra-b', '37.68')">37.68 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-b', '24')">24 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-b', '75.36')">75.36 inches</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-b', '6')">6 inches</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkExtraPractice('extra-b', '37.68', 'C = πd = 3.14 × 12 = 37.68 inches')">Check Answer</button>
                </div>
                <div class="feedback" id="extra-b-feedback"></div>
            </div>

            <div class="practice-problem" id="extra-c-problem" style="display: none;">
                <h3>Practice Problem C</h3>
                <p>A Ferris wheel has a diameter of <strong>50 meters</strong>. How far do you travel in one complete rotation?</p>
                <div class="practice-visual">
                    <svg width="250" height="220" viewBox="0 0 250 220">
                        <circle cx="125" cy="100" r="75" fill="none" stroke="#805AD5" stroke-width="4"/>
                        <circle cx="125" cy="100" r="8" fill="#553C9A"/>
                        <!-- Spokes -->
                        <line x1="125" y1="25" x2="125" y2="175" stroke="#B794F4" stroke-width="2"/>
                        <line x1="50" y1="100" x2="200" y2="100" stroke="#B794F4" stroke-width="2"/>
                        <line x1="72" y1="47" x2="178" y2="153" stroke="#B794F4" stroke-width="2"/>
                        <line x1="178" y1="47" x2="72" y2="153" stroke="#B794F4" stroke-width="2"/>
                        <!-- Gondolas -->
                        <circle cx="125" cy="25" r="8" fill="#F6E05E"/>
                        <circle cx="125" cy="175" r="8" fill="#F6E05E"/>
                        <circle cx="50" cy="100" r="8" fill="#F6E05E"/>
                        <circle cx="200" cy="100" r="8" fill="#F6E05E"/>
                        <text x="125" y="205" text-anchor="middle" font-size="14" fill="var(--diameter-color)" font-weight="bold">d = 50 m</text>
                    </svg>
                </div>
                <div class="choices" id="extra-c-choices">
                    <div class="choice" onclick="selectChoice(this, 'extra-c', '157')">157 meters</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-c', '100')">100 meters</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-c', '50')">50 meters</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-c', '314')">314 meters</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkExtraPractice('extra-c', '157', 'C = πd = 3.14 × 50 = 157 meters. One rotation = one circumference!')">Check Answer</button>
                </div>
                <div class="feedback" id="extra-c-feedback"></div>
            </div>

            <div class="practice-problem" id="extra-d-problem" style="display: none;">
                <h3>Practice Problem D (Challenge!)</h3>
                <p>A circular flower bed has a circumference of <strong>31.4 meters</strong>. What is the diameter of the flower bed?</p>
                <p><em>Hint: Work backwards! If C = πd, then d = C ÷ π</em></p>
                <div class="choices" id="extra-d-choices">
                    <div class="choice" onclick="selectChoice(this, 'extra-d', '10')">10 meters</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-d', '5')">5 meters</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-d', '98.6')">98.6 meters</div>
                    <div class="choice" onclick="selectChoice(this, 'extra-d', '15.7')">15.7 meters</div>
                </div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="checkExtraPractice('extra-d', '10', 'd = C ÷ π = 31.4 ÷ 3.14 = 10 meters. Great job working backwards!')">Check Answer</button>
                </div>
                <div class="feedback" id="extra-d-feedback"></div>
            </div>

            <div class="btn-group" id="extra-practice-continue" style="display: none;">
                <button class="btn btn-primary" onclick="nextSection()">Continue to Summary</button>
            </div>
        </div>

        <!-- Section 15: Summary -->
        <div class="section" id="section-summary">
            <h2>Summary: What You've Learned!</h2>

            <p>Congratulations! You've learned a lot about circles. Let's review the key points:</p>

            <div class="visual-container">
                <svg width="350" height="250" viewBox="0 0 350 250">
                    <!-- Circle -->
                    <circle cx="175" cy="120" r="90" fill="none" stroke="var(--circumference-color)" stroke-width="4"/>

                    <!-- Center -->
                    <circle cx="175" cy="120" r="6" fill="var(--center-color)"/>

                    <!-- Radius -->
                    <line x1="175" y1="120" x2="265" y2="120" stroke="var(--radius-color)" stroke-width="3"/>
                    <text x="220" y="110" font-size="14" fill="var(--radius-color)" font-weight="bold">r</text>

                    <!-- Diameter -->
                    <line x1="85" y1="120" x2="265" y2="120" stroke="var(--diameter-color)" stroke-width="2" stroke-dasharray="5,3"/>
                    <text x="175" y="145" text-anchor="middle" font-size="14" fill="var(--diameter-color)" font-weight="bold">d = 2r</text>

                    <!-- C label -->
                    <text x="280" y="60" font-size="14" fill="var(--circumference-color)" font-weight="bold">C</text>
                </svg>
            </div>

            <div class="key-point">
                <strong>Parts of a Circle:</strong>
                <ul>
                    <li><span style="color: var(--radius-color);">Radius (r)</span> = distance from center to edge</li>
                    <li><span style="color: var(--diameter-color);">Diameter (d)</span> = distance across through center = 2r</li>
                    <li><span style="color: var(--circumference-color);">Circumference (C)</span> = distance around the circle</li>
                </ul>
            </div>

            <div class="key-point">
                <strong>Pi (π) ≈ 3.14</strong><br>
                The ratio of circumference to diameter for ALL circles!
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 25px 0;">
                <div class="formula-box" style="background: linear-gradient(135deg, #E53E3E, #C53030); padding: 20px;">
                    <div class="formula" style="font-size: 28px;">C = πd</div>
                    <div class="formula-desc">Use when you have diameter</div>
                </div>

                <div class="formula-box" style="background: linear-gradient(135deg, #3182CE, #2B6CB0); padding: 20px;">
                    <div class="formula" style="font-size: 28px;">C = 2πr</div>
                    <div class="formula-desc">Use when you have radius</div>
                </div>
            </div>

            <div class="key-point">
                <strong>Real-World Applications:</strong> Wheels, pools, gardens, pizzas, tracks, and anything circular!
            </div>

            <p style="text-align: center; font-size: 20px; margin-top: 30px;">Ready to show what you've learned?</p>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="nextSection()">Take the Final Quiz!</button>
            </div>
        </div>

        <!-- Section 15: Final Quiz -->
        <div class="section" id="section-quiz">
            <h2>Final Quiz</h2>
            <p>Let's see what you've learned! Answer all 5 questions.</p>

            <div id="quiz-questions">
                <!-- Question 1 -->
                <div class="quiz-question" id="q1">
                    <h4>Question 1 of 5</h4>
                    <p>What is the radius if the diameter is <strong>20 cm</strong>?</p>
                    <div class="quiz-visual">
                        <svg width="250" height="180" viewBox="0 0 250 180">
                            <circle cx="125" cy="90" r="70" fill="none" stroke="var(--circumference-color)" stroke-width="3"/>
                            <line x1="55" y1="90" x2="195" y2="90" stroke="var(--diameter-color)" stroke-width="3"/>
                            <circle cx="125" cy="90" r="5" fill="var(--center-color)"/>
                            <text x="125" y="115" text-anchor="middle" font-size="14" fill="var(--diameter-color)" font-weight="bold">d = 20 cm</text>
                            <text x="125" y="165" text-anchor="middle" font-size="14">r = ?</text>
                        </svg>
                    </div>
                    <div class="choices" id="q1-choices">
                        <div class="choice" onclick="selectQuizChoice(this, 'q1', '10')">10 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q1', '40')">40 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q1', '20')">20 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q1', '5')">5 cm</div>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question" id="q2">
                    <h4>Question 2 of 5</h4>
                    <p>A circle has a diameter of <strong>14 inches</strong>. What is the circumference?</p>
                    <div class="quiz-visual">
                        <svg width="250" height="180" viewBox="0 0 250 180">
                            <circle cx="125" cy="90" r="70" fill="#EBF8FF" stroke="var(--circumference-color)" stroke-width="3"/>
                            <line x1="55" y1="90" x2="195" y2="90" stroke="var(--diameter-color)" stroke-width="3"/>
                            <circle cx="125" cy="90" r="5" fill="var(--center-color)"/>
                            <text x="125" y="115" text-anchor="middle" font-size="14" fill="var(--diameter-color)" font-weight="bold">d = 14 in</text>
                            <text x="125" y="165" text-anchor="middle" font-size="14">C = ?</text>
                        </svg>
                    </div>
                    <div class="choices" id="q2-choices">
                        <div class="choice" onclick="selectQuizChoice(this, 'q2', '43.96')">43.96 inches</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q2', '28')">28 inches</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q2', '14')">14 inches</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q2', '87.92')">87.92 inches</div>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question" id="q3">
                    <h4>Question 3 of 5</h4>
                    <p>A circle has a radius of <strong>6 cm</strong>. What is the circumference?</p>
                    <div class="quiz-visual">
                        <svg width="250" height="180" viewBox="0 0 250 180">
                            <circle cx="125" cy="90" r="70" fill="#F0FFF4" stroke="var(--circumference-color)" stroke-width="3"/>
                            <line x1="125" y1="90" x2="195" y2="90" stroke="var(--radius-color)" stroke-width="3"/>
                            <circle cx="125" cy="90" r="5" fill="var(--center-color)"/>
                            <text x="160" y="82" text-anchor="middle" font-size="14" fill="var(--radius-color)" font-weight="bold">r = 6 cm</text>
                            <text x="125" y="165" text-anchor="middle" font-size="14">C = ?</text>
                        </svg>
                    </div>
                    <div class="choices" id="q3-choices">
                        <div class="choice" onclick="selectQuizChoice(this, 'q3', '37.68')">37.68 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q3', '18.84')">18.84 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q3', '12')">12 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q3', '36')">36 cm</div>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question" id="q4">
                    <h4>Question 4 of 5</h4>
                    <p><strong>True or False:</strong> π (pi) is approximately 3.14</p>
                    <div class="tf-choices" id="q4-choices">
                        <button class="btn choice tf-choice" onclick="selectQuizChoice(this, 'q4', 'true')">True</button>
                        <button class="btn choice tf-choice" onclick="selectQuizChoice(this, 'q4', 'false')">False</button>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question" id="q5">
                    <h4>Question 5 of 5</h4>
                    <p>A wheel with diameter <strong>30 cm</strong> makes one rotation. How far does it travel?</p>
                    <div class="quiz-visual">
                        <svg width="300" height="150" viewBox="0 0 300 150">
                            <!-- Wheel -->
                            <circle cx="75" cy="75" r="50" fill="none" stroke="#2D3748" stroke-width="4"/>
                            <circle cx="75" cy="75" r="8" fill="#2D3748"/>
                            <line x1="25" y1="75" x2="125" y2="75" stroke="var(--diameter-color)" stroke-width="2"/>
                            <text x="75" y="95" text-anchor="middle" font-size="12" fill="var(--diameter-color)">d = 30 cm</text>

                            <!-- Arrow -->
                            <text x="150" y="75" font-size="24">→</text>

                            <!-- Question -->
                            <text x="230" y="75" text-anchor="middle" font-size="14">Distance = ?</text>

                            <!-- Ground -->
                            <line x1="20" y1="130" x2="280" y2="130" stroke="#A0AEC0" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="choices" id="q5-choices">
                        <div class="choice" onclick="selectQuizChoice(this, 'q5', '94.2')">94.2 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q5', '30')">30 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q5', '60')">60 cm</div>
                        <div class="choice" onclick="selectQuizChoice(this, 'q5', '188.4')">188.4 cm</div>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-primary" onclick="submitQuiz()" id="submit-quiz-btn">Submit Quiz</button>
            </div>

            <div class="quiz-results" id="quiz-results">
                <h2>Quiz Complete!</h2>
                <div class="score-display" id="score-display">0/5</div>
                <div class="score-message" id="score-message"></div>
                <div id="quiz-review"></div>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="nextSection()">See Final Message</button>
                </div>
            </div>
        </div>

        <!-- Section 16: Completion -->
        <div class="section" id="section-complete">
            <div class="celebration">
                <div class="trophy">🏆</div>
                <h2>Congratulations!</h2>
                <p style="font-size: 22px; margin: 20px 0;">You've completed <strong>Circle Quest: Mastering Circumference!</strong></p>

                <div class="visual-container" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                    <svg width="200" height="200" viewBox="0 0 200 200">
                        <circle cx="100" cy="100" r="80" fill="none" stroke="white" stroke-width="4">
                            <animate attributeName="stroke-dasharray" from="0,502" to="502,0" dur="2s" fill="freeze"/>
                        </circle>
                        <text x="100" y="90" text-anchor="middle" font-size="24" fill="white" font-weight="bold">Circle</text>
                        <text x="100" y="120" text-anchor="middle" font-size="24" fill="white" font-weight="bold">Expert!</text>
                    </svg>
                </div>

                <div class="key-point" style="text-align: left; max-width: 500px; margin: 30px auto;">
                    <strong>You learned:</strong>
                    <ul>
                        <li>The parts of a circle (radius, diameter, circumference)</li>
                        <li>What π (pi) is and why it's special</li>
                        <li>Two formulas: C = πd and C = 2πr</li>
                        <li>How to apply these to real-world problems</li>
                    </ul>
                </div>

                <p style="font-size: 20px; color: var(--secondary-color);">Great job! You're ready to tackle any circumference problem!</p>
            </div>
        </div>
    </div>

    <script>
        // Section management
        const sections = [
            'section-welcome',
            'section-warmup',
            'section-parts',
            'section-pi',
            'section-faq1',
            'section-checkpoint1',
            'section-formulas',
            'section-example1',
            'section-practice1',
            'section-example2',
            'section-practice2',
            'section-faq2',
            'section-example3',
            'section-practice3',
            'section-faq3',
            'section-extra-practice',
            'section-summary',
            'section-quiz',
            'section-complete'
        ];

        let currentSection = 0;
        let selectedAnswers = {};
        let quizAnswers = {
            q1: null,
            q2: null,
            q3: null,
            q4: null,
            q5: null
        };
        const correctQuizAnswers = {
            q1: '10',
            q2: '43.96',
            q3: '37.68',
            q4: 'true',
            q5: '94.2'
        };

        // Update progress bar
        function updateProgress() {
            const progress = Math.round((currentSection / (sections.length - 1)) * 100);
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressPercent').textContent = progress + '% Complete';
        }

        // Show section
        function showSection(index) {
            sections.forEach((sectionId, i) => {
                const section = document.getElementById(sectionId);
                if (i === index) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });
            currentSection = index;
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Next section
        function nextSection() {
            if (currentSection < sections.length - 1) {
                showSection(currentSection + 1);
            }
        }

        // Toggle FAQ
        function toggleFAQ(element) {
            const faqItem = element.parentElement;
            faqItem.classList.toggle('open');
        }

        // Show/hide alternative explanation
        function showAltExplanation(section, show) {
            const altExp = document.getElementById('alt-' + section);
            const continueBtn = document.getElementById(section + '-continue');
            const quickCheck = document.getElementById(section + '-quick-check');
            const faq = document.getElementById(section + '-faq');

            if (show) {
                altExp.classList.add('show');
                continueBtn.style.display = 'none';
                if (quickCheck) quickCheck.style.display = 'none';
                if (faq) faq.style.display = 'none';
            } else {
                altExp.classList.remove('show');
                // Show quick check first, then FAQ, then continue button after quick check is answered
                if (quickCheck) {
                    quickCheck.style.display = 'block';
                    if (faq) faq.style.display = 'block';
                    continueBtn.style.display = 'none';
                } else {
                    if (faq) faq.style.display = 'block';
                    continueBtn.style.display = 'flex';
                }
            }
        }

        function hideAltExplanation(section) {
            const altExp = document.getElementById('alt-' + section);
            const continueBtn = document.getElementById(section + '-continue');
            const quickCheck = document.getElementById(section + '-quick-check');
            const faq = document.getElementById(section + '-faq');

            altExp.classList.remove('show');
            // Show quick check first
            if (quickCheck) {
                quickCheck.style.display = 'block';
                if (faq) faq.style.display = 'block';
                continueBtn.style.display = 'none';
            } else {
                if (faq) faq.style.display = 'block';
                continueBtn.style.display = 'flex';
            }
        }

        // Check quick check answers
        function checkQuickAnswer(checkId, correctAnswer, explanation) {
            if (!selectedAnswers[checkId]) {
                alert('Please select an answer first!');
                return;
            }

            const feedback = document.getElementById(checkId + '-feedback');
            const choices = document.querySelectorAll('#' + checkId + '-choices .choice');
            const section = checkId.replace('-check', '');
            const continueBtn = document.getElementById(section + '-continue');

            const isCorrect = selectedAnswers[checkId] === correctAnswer;

            // Mark choices
            choices.forEach(c => {
                if (c.textContent.includes(correctAnswer) || c.textContent === correctAnswer) {
                    c.classList.add('correct');
                } else if (c.classList.contains('selected') && !isCorrect) {
                    c.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                feedback.className = 'feedback show correct';
                feedback.innerHTML = '<h4>Correct!</h4><p>' + explanation + '</p>';

                // Handle checkpoint and warmup flows
                if (checkId.startsWith('check1-') || checkId === 'warmup-check') {
                    handleCheckpointFlow(checkId);
                } else if (continueBtn) {
                    continueBtn.style.display = 'flex';
                }
            } else {
                feedback.className = 'feedback show incorrect';
                feedback.innerHTML = '<h4>Not quite!</h4><p>' + explanation + '</p><button class="btn btn-secondary" onclick="resetQuickCheck(\'' + checkId + '\')" style="margin-top: 10px;">Try Again</button>';
            }
        }

        function resetQuickCheck(checkId) {
            const choices = document.querySelectorAll('#' + checkId + '-choices .choice');
            choices.forEach(c => {
                c.classList.remove('selected', 'correct', 'incorrect');
            });
            const feedback = document.getElementById(checkId + '-feedback');
            feedback.classList.remove('show');
            selectedAnswers[checkId] = null;
        }

        // Handle checkpoint sequential questions
        function handleCheckpointFlow(checkId) {
            // Checkpoint 1 flow
            if (checkId === 'check1-q1') {
                document.getElementById('check1-q2').style.display = 'block';
                document.getElementById('check1-q2').scrollIntoView({ behavior: 'smooth', block: 'center' });
            } else if (checkId === 'check1-q2') {
                document.getElementById('check1-q3').style.display = 'block';
                document.getElementById('check1-q3').scrollIntoView({ behavior: 'smooth', block: 'center' });
            } else if (checkId === 'check1-q3') {
                document.getElementById('checkpoint1-continue').style.display = 'flex';
                document.getElementById('checkpoint1-continue').scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            // Warmup flow
            else if (checkId === 'warmup-check') {
                document.getElementById('warmup-continue').style.display = 'flex';
            }
        }

        // Check extra practice answers
        function checkExtraPractice(practiceId, correctAnswer, explanation) {
            if (!selectedAnswers[practiceId]) {
                alert('Please select an answer first!');
                return;
            }

            const feedback = document.getElementById(practiceId + '-feedback');
            const choices = document.querySelectorAll('#' + practiceId + '-choices .choice');
            const isCorrect = selectedAnswers[practiceId] === correctAnswer;

            // Mark choices
            choices.forEach(c => {
                if (c.textContent.includes(correctAnswer)) {
                    c.classList.add('correct');
                } else if (c.classList.contains('selected') && !isCorrect) {
                    c.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                feedback.className = 'feedback show correct';
                feedback.innerHTML = '<h4>Correct!</h4><p>' + explanation + '</p>';

                // Show next problem or continue button
                if (practiceId === 'extra-a') {
                    document.getElementById('extra-b-problem').style.display = 'block';
                    document.getElementById('extra-b-problem').scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else if (practiceId === 'extra-b') {
                    document.getElementById('extra-c-problem').style.display = 'block';
                    document.getElementById('extra-c-problem').scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else if (practiceId === 'extra-c') {
                    document.getElementById('extra-d-problem').style.display = 'block';
                    document.getElementById('extra-d-problem').scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else if (practiceId === 'extra-d') {
                    document.getElementById('extra-practice-continue').style.display = 'flex';
                    document.getElementById('extra-practice-continue').scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            } else {
                feedback.className = 'feedback show incorrect';
                feedback.innerHTML = '<h4>Not quite!</h4><p>Try again! ' + explanation.split('.')[0] + '</p><button class="btn btn-secondary" onclick="resetExtraPractice(\'' + practiceId + '\')" style="margin-top: 10px;">Try Again</button>';
            }
        }

        function resetExtraPractice(practiceId) {
            const choices = document.querySelectorAll('#' + practiceId + '-choices .choice');
            choices.forEach(c => {
                c.classList.remove('selected', 'correct', 'incorrect');
            });
            const feedback = document.getElementById(practiceId + '-feedback');
            feedback.classList.remove('show');
            selectedAnswers[practiceId] = null;
        }

        // Multiple choice selection
        function selectChoice(element, practiceId, value) {
            // Remove selected class from all choices in this practice
            const choices = document.querySelectorAll('#' + practiceId + '-choices .choice');
            choices.forEach(c => c.classList.remove('selected'));

            // Add selected class to clicked choice
            element.classList.add('selected');
            selectedAnswers[practiceId] = value;
        }

        // Check multiple choice answer
        function checkAnswer(practiceId, correctAnswer) {
            if (!selectedAnswers[practiceId]) {
                alert('Please select an answer first!');
                return;
            }

            const feedback = document.getElementById(practiceId + '-feedback');
            const choices = document.querySelectorAll('#' + practiceId + '-choices .choice');
            const continueBtn = document.getElementById(practiceId + '-continue');
            const checkBtn = document.getElementById(practiceId + '-check');

            const isCorrect = selectedAnswers[practiceId] === correctAnswer;

            // Mark choices
            choices.forEach(c => {
                if (c.textContent.includes(correctAnswer)) {
                    c.classList.add('correct');
                } else if (c.classList.contains('selected') && !isCorrect) {
                    c.classList.add('incorrect');
                }
            });

            // Show feedback
            if (isCorrect) {
                feedback.className = 'feedback show correct';
                if (practiceId === 'practice1') {
                    feedback.innerHTML = `
                        <h4>🎉 Great job! That's correct!</h4>
                        <div class="solution-box">
                            <h5>Here's the solution:</h5>
                            <div class="solution-step">Given: diameter (d) = 16 inches</div>
                            <div class="solution-step">Formula: C = πd</div>
                            <div class="solution-step">C = 3.14 × 16</div>
                            <div class="solution-step"><strong>C = 50.24 inches</strong></div>
                        </div>
                    `;
                } else if (practiceId === 'practice3') {
                    feedback.innerHTML = `
                        <h4>🎉 Excellent! You've got it!</h4>
                        <div class="solution-box">
                            <h5>Here's the solution:</h5>
                            <div class="solution-step">Given: diameter (d) = 26 inches</div>
                            <div class="solution-step">One rotation = circumference</div>
                            <div class="solution-step">C = πd = 3.14 × 26</div>
                            <div class="solution-step"><strong>C = 81.64 inches</strong></div>
                        </div>
                    `;
                }
                continueBtn.style.display = 'flex';
                checkBtn.disabled = true;
            } else {
                feedback.className = 'feedback show incorrect';
                feedback.innerHTML = `
                    <h4>Not quite right. Let's think about it...</h4>
                    <p><strong>Hint:</strong> We're looking for the circumference using the formula C = πd. What do you get when you multiply 3.14 by the diameter?</p>
                    <button class="btn btn-secondary" onclick="resetPractice('${practiceId}')" style="margin-top: 10px;">Try Again</button>
                `;
            }
        }

        // Check input answer
        function checkInputAnswer(practiceId, correctAnswer) {
            const input = document.getElementById(practiceId + '-input');
            const feedback = document.getElementById(practiceId + '-feedback');
            const continueBtn = document.getElementById(practiceId + '-continue');

            const userAnswer = parseFloat(input.value);

            if (isNaN(userAnswer)) {
                alert('Please enter a number!');
                return;
            }

            // Allow for small rounding differences
            const isCorrect = Math.abs(userAnswer - correctAnswer) < 0.1;

            if (isCorrect) {
                feedback.className = 'feedback show correct';
                feedback.innerHTML = `
                    <h4>🎉 Perfect! That's exactly right!</h4>
                    <div class="solution-box">
                        <h5>Here's the solution:</h5>
                        <div class="solution-step">Given: radius (r) = 4 feet</div>
                        <div class="solution-step">Formula: C = 2πr</div>
                        <div class="solution-step">C = 2 × 3.14 × 4</div>
                        <div class="solution-step">C = 6.28 × 4</div>
                        <div class="solution-step"><strong>C = 25.12 feet</strong></div>
                    </div>
                `;
                continueBtn.style.display = 'flex';
                input.disabled = true;
            } else {
                feedback.className = 'feedback show incorrect';
                feedback.innerHTML = `
                    <h4>Not quite. Let's try again!</h4>
                    <p><strong>Hint:</strong> Use the formula C = 2πr. That means multiply 2 × 3.14 × 4. Try calculating step by step!</p>
                    <button class="btn btn-secondary" onclick="resetInputPractice('${practiceId}')" style="margin-top: 10px;">Try Again</button>
                `;
            }
        }

        // Reset practice
        function resetPractice(practiceId) {
            const choices = document.querySelectorAll('#' + practiceId + '-choices .choice');
            choices.forEach(c => {
                c.classList.remove('selected', 'correct', 'incorrect');
            });
            const feedback = document.getElementById(practiceId + '-feedback');
            feedback.classList.remove('show');
            selectedAnswers[practiceId] = null;
            document.getElementById(practiceId + '-check').disabled = false;
        }

        function resetInputPractice(practiceId) {
            const input = document.getElementById(practiceId + '-input');
            input.value = '';
            input.disabled = false;
            const feedback = document.getElementById(practiceId + '-feedback');
            feedback.classList.remove('show');
        }

        // Quiz functions
        function selectQuizChoice(element, questionId, value) {
            const choices = document.querySelectorAll('#' + questionId + '-choices .choice');
            choices.forEach(c => c.classList.remove('selected'));
            element.classList.add('selected');
            quizAnswers[questionId] = value;
        }

        function submitQuiz() {
            // Check if all questions answered
            const unanswered = Object.values(quizAnswers).filter(a => a === null).length;
            if (unanswered > 0) {
                alert('Please answer all questions before submitting!');
                return;
            }

            // Calculate score
            let score = 0;
            for (let q in correctQuizAnswers) {
                if (quizAnswers[q] === correctQuizAnswers[q]) {
                    score++;
                }
            }

            // Show results
            document.getElementById('quiz-questions').style.display = 'none';
            document.getElementById('submit-quiz-btn').style.display = 'none';
            document.getElementById('quiz-results').classList.add('show');
            document.getElementById('score-display').textContent = score + '/5';

            // Score message
            let message = '';
            if (score === 5) {
                message = 'Perfect score! You\'re a circle master! 🌟';
            } else if (score >= 4) {
                message = 'Excellent work! You really understand circles! 🎉';
            } else if (score >= 3) {
                message = 'Good job! You\'ve got the basics down! 👍';
            } else {
                message = 'Keep practicing! You\'re learning! 💪';
            }
            document.getElementById('score-message').textContent = message;

            // Show review
            let reviewHTML = '<div style="text-align: left; margin-top: 20px;">';
            const questions = [
                { q: 'q1', text: 'Radius if diameter is 20 cm', correct: '10 cm' },
                { q: 'q2', text: 'Circumference with d = 14"', correct: '43.96 inches' },
                { q: 'q3', text: 'Circumference with r = 6 cm', correct: '37.68 cm' },
                { q: 'q4', text: 'π ≈ 3.14 (True/False)', correct: 'True' },
                { q: 'q5', text: 'Distance for wheel (d = 30 cm)', correct: '94.2 cm' }
            ];

            questions.forEach((item, i) => {
                const isCorrect = quizAnswers[item.q] === correctQuizAnswers[item.q];
                const icon = isCorrect ? '✅' : '❌';
                reviewHTML += `<p>${icon} Q${i+1}: ${item.text} - Correct answer: <strong>${item.correct}</strong></p>`;
            });
            reviewHTML += '</div>';
            document.getElementById('quiz-review').innerHTML = reviewHTML;
        }

        // Interactive Circle Slider
        function initInteractiveCircle() {
            const slider = document.getElementById('radius-slider');
            if (!slider) return;

            slider.addEventListener('input', function() {
                updateInteractiveCircle(this.value);
            });
        }

        function updateInteractiveCircle(radius) {
            const r = parseInt(radius);
            const centerX = 260;
            const centerY = 200;

            // Update circle
            const circle = document.getElementById('interactive-circle');
            if (circle) {
                circle.setAttribute('r', r);
            }

            // Update radius line
            const radiusLine = document.getElementById('radius-line');
            if (radiusLine) {
                radiusLine.setAttribute('x2', centerX + r);
            }

            // Update radius label position
            const radiusLabel = document.getElementById('radius-label');
            if (radiusLabel) {
                radiusLabel.setAttribute('x', centerX + r/2);
            }

            // Update diameter line
            const diameterLine = document.getElementById('diameter-line');
            if (diameterLine) {
                diameterLine.setAttribute('x1', centerX - r);
                diameterLine.setAttribute('x2', centerX + r);
            }

            // Update circumference arc
            const circumferenceArc = document.getElementById('circumference-arc');
            if (circumferenceArc) {
                const startY = centerY - r;
                const endX = centerX + r;
                circumferenceArc.setAttribute('d', `M ${centerX} ${startY} A ${r} ${r} 0 0 1 ${endX} ${centerY}`);
            }

            // Update measurement displays
            const diameter = r * 2;
            const circumference = Math.round(diameter * 3.14 * 10) / 10;

            document.getElementById('radius-value').textContent = r + ' units';
            document.getElementById('diameter-value').textContent = diameter + ' units';
            document.getElementById('circumference-value').textContent = circumference + ' units';
        }

        // Initialize
        updateProgress();
        initInteractiveCircle();
    </script>
</body>
</html>
